<ion-header-bar>
    <a ng-if="role != 'tuitor'" class="save-settings-button button button-clear button-positive" ui-sref="s_menu.thread_view"><i class="icon ion-ios-arrow-back"></i> Back</a>
    <a ng-if="role == 'tuitor'" class="save-settings-button button button-clear button-positive" ui-sref="t_menu.thread_view"><i class="icon ion-ios-arrow-back"></i> Back</a>
  <h1 class="title">{{to_name}}</h1>
</ion-header-bar>
<ion-view title="{{to_name}}" id="page14">
      <ion-pane class="messaging-view">
        <ion-content class="content-stable"
                     on-swipe-left="hideTime = false"
                     on-swipe-right="hideTime = true">

          <p ng-if="messages.length == 0" style="text-align: center; padding: 40px; color: #9A9A9A;">No Messages Yet</p>
          <div ng-repeat="message in messages" ng-if="messages.length >= 1" ng-class="{other: message.userId == from_id}" class="messages">
            <div class="message" ng-class="{'slide-right': hideTime, '': !hideTime}">
              <span>{{ message.text }}</span>
            </div>
            <div class="time" ng-class="{'slide-right': hideTime, '': !hideTime}">{{message.time}}</div>
          </div>
        </ion-content>

        <ion-footer-bar keyboard-attach class="bar-stable item-input-inset">
          <label class="item-input-wrapper">
            <input type="text" placeholder="Type your message" on-return="sendMessage(); closeKeyboard()" ng-model="data.message" on-focus="inputUp()" on-blur="inputDown()" />
          </label>
          <button class="button button-clear" ng-click="sendMessage()">
            Send
          </button>
        </ion-footer-bar>
</ion-view>
